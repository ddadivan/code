
<div class="container">
    <div class="search" (blur)="searchBlur(searchValue)">

        <div class="search-box">
            <input name="search"
                   class="search-field"
                   placeholder="Find employee..."
                   [attr.autocomplete]="'off'"
                   #search
                   [(ngModel)]="searchValue"
                   (keydown.enter)="searchChange(searchValue)"
                   (change)="searchChange(searchValue)"
                   (focus)="showFindList($event)"
            />

            @if (searchValue) {
                <button type="button" class="clear-button" (click)="clearSearch()">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.17311 4.37329C5.67604 3.87622 4.87012 3.87622 4.37305 4.37329C3.87598 4.87036 3.87598 5.67627 4.37305 6.17334L18.7728 20.573C19.2698 21.07 20.0758 21.07 20.5728 20.573C21.0699 20.0759 21.0699 19.27 20.5728 18.7729L6.17311 4.37329Z" />
                        <path d="M4.37281 18.7724C3.87573 19.2695 3.87573 20.0754 4.37281 20.5725C4.86988 21.0695 5.67579 21.0695 6.17286 20.5725L20.5726 6.17285C21.0696 5.67578 21.0696 4.86987 20.5726 4.3728C20.0755 3.87573 19.2696 3.87573 18.7725 4.3728L4.37281 18.7724Z" />
                    </svg>
                </button>
            }

        </div>

        @if (showSearchList) {
            <ul class="search-list">

                @for (item of searchList; track $index) {
                    <li class="item">
                        <button type="button" class="button" (click)="selectSearchItem(item)">{{ item }}</button>
                    </li>
                }

            </ul>
        }

    </div>

    <ng-template appRole>
        @if (isCheckedItems) {
            <div class="action-box">
                <button type="button" class="action" (click)="deleteChecked()">
                    <svg width="24" height="24" viewBox="0 0 24 24" class="icon" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 23H8.75C7.49547 23.0032 6.29089 22.5087 5.40044 21.625C4.50998 20.7413 4.00635 19.5405 4 18.286V9C4 8.73478 4.10536 8.48043 4.29289 8.29289C4.48043 8.10536 4.73478 8 5 8C5.26522 8 5.51957 8.10536 5.70711 8.29289C5.89464 8.48043 6 8.73478 6 9V18.286C6.00555 19.0103 6.29821 19.7029 6.81377 20.2117C7.32932 20.7205 8.02566 21.004 8.75 21H10L12 23Z"/>
                        <path d="M19 16V9C19 8.73478 19.1054 8.48043 19.2929 8.29289C19.4804 8.10536 19.7348 8 20 8C20.2652 8 20.5196 8.10536 20.7071 8.29289C20.8946 8.48043 21 8.73478 21 9V14L19 16Z" />
                        <path d="M3.02439 5H21.9756C22.2473 5 22.5079 5.10536 22.7 5.29289C22.8921 5.48043 23 5.73478 23 6C23 6.26522 22.8921 6.51957 22.7 6.70711C22.5079 6.89464 22.2473 7 21.9756 7H3.02439C2.75271 7 2.49215 6.89464 2.30004 6.70711C2.10793 6.51957 2 6.26522 2 6C2 5.73478 2.10793 5.48043 2.30004 5.29289C2.49215 5.10536 2.75271 5 3.02439 5Z"/>
                        <path d="M12 3C11.7348 3 11.4804 3.10536 11.2929 3.29289C11.1054 3.48043 11 3.73478 11 4C11 4.26522 11.1054 4.51957 11.2929 4.70711C11.4804 4.89464 11.7348 5 12 5H13C13.2652 5 13.5196 4.89464 13.7071 4.70711C13.8946 4.51957 14 4.26522 14 4C14 3.73478 13.8946 3.48043 13.7071 3.29289C13.5196 3.10536 13.2652 3 13 3H12ZM12 1H13C13.7956 1 14.5587 1.31607 15.1213 1.87868C15.6839 2.44129 16 3.20435 16 4C16 4.79565 15.6839 5.55871 15.1213 6.12132C14.5587 6.68393 13.7956 7 13 7H12C11.2044 7 10.4413 6.68393 9.87868 6.12132C9.31607 5.55871 9 4.79565 9 4C9 3.20435 9.31607 2.44129 9.87868 1.87868C10.4413 1.31607 11.2044 1 12 1Z"/>
                        <path d="M9 19C8.73478 19 8.48043 18.8946 8.29289 18.7071C8.10536 18.5196 8 18.2652 8 18V9C8 8.73478 8.10536 8.48043 8.29289 8.29289C8.48043 8.10536 8.73478 8 9 8C9.26522 8 9.51957 8.10536 9.70711 8.29289C9.89464 8.48043 10 8.73478 10 9V18C10 18.2652 9.89464 18.5196 9.70711 18.7071C9.51957 18.8946 9.26522 19 9 19Z" />
                        <path d="M12.5 17C12.2348 17 11.9804 16.8946 11.7929 16.7071C11.6054 16.5196 11.5 16.2652 11.5 16V9C11.5 8.73478 11.6054 8.48043 11.7929 8.29289C11.9804 8.10536 12.2348 8 12.5 8C12.7652 8 13.0196 8.10536 13.2071 8.29289C13.3946 8.48043 13.5 8.73478 13.5 9V16C13.5 16.2652 13.3946 16.5196 13.2071 16.7071C13.0196 16.8946 12.7652 17 12.5 17Z" />
                        <path d="M16 18.5C15.7348 18.5 15.4804 18.3946 15.2929 18.2071C15.1054 18.0196 15 17.7652 15 17.5V9C15 8.73478 15.1054 8.48043 15.2929 8.29289C15.4804 8.10536 15.7348 8 16 8C16.2652 8 16.5196 8.10536 16.7071 8.29289C16.8946 8.48043 17 8.73478 17 9V17.5C17 17.7652 16.8946 18.0196 16.7071 18.2071C16.5196 18.3946 16.2652 18.5 16 18.5Z" />
                        <path d="M11.7929 18.7929C12.1834 18.4024 12.8166 18.4024 13.2071 18.7929L16.7071 22.2929C17.0976 22.6834 17.0976 23.3166 16.7071 23.7071C16.3166 24.0976 15.6834 24.0976 15.2929 23.7071L11.7929 20.2071C11.4024 19.8166 11.4024 19.1834 11.7929 18.7929Z" />
                        <path d="M23.7071 15.2929C24.0976 15.6834 24.0976 16.3166 23.7071 16.7071L16.7071 23.7071C16.3166 24.0976 15.6834 24.0976 15.2929 23.7071C14.9024 23.3166 14.9024 22.6834 15.2929 22.2929L22.2929 15.2929C22.6834 14.9024 23.3166 14.9024 23.7071 15.2929Z" />
                    </svg>

                    <span>Delete checked</span>
                </button>
            </div>
        }
    </ng-template>

</div>


<div class="date-filter">
    @if (clearButtonDate) {
        <button type="button" class="clear-date" (click)="clearDateField()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5.65302 8.07599C6.2053 8.07599 6.65302 8.5237 6.65302 9.07599V17.2868C6.65443 17.5885 6.71518 17.887 6.83181 18.1652C6.94867 18.444 7.11934 18.697 7.33405 18.9097C7.54876 19.1225 7.80331 19.2909 8.08314 19.4052C8.36296 19.5195 8.66258 19.5776 8.96486 19.576L8.97002 19.576L15.6082 19.576C15.9104 19.5775 16.2101 19.5195 16.4899 19.4052C16.7697 19.2909 17.0243 19.1225 17.239 18.9097C17.4537 18.697 17.6244 18.444 17.7412 18.1652C17.8578 17.887 17.9186 17.5885 17.92 17.2868V9.07599C17.92 8.5237 18.3677 8.07599 18.92 8.07599C19.4723 8.07599 19.92 8.5237 19.92 9.07599V17.2929C19.9178 17.858 19.8042 18.4172 19.5857 18.9384C19.3672 19.4596 19.0482 19.9326 18.6468 20.3304C18.2453 20.7282 17.7694 21.0429 17.2463 21.2566C16.724 21.47 16.1648 21.5785 15.6006 21.576H8.97241C8.40823 21.5785 7.84904 21.47 7.32674 21.2566C6.80359 21.0429 6.32769 20.7282 5.92627 20.3304C5.52486 19.9326 5.20579 19.4596 4.98731 18.9384C4.76884 18.4172 4.65524 17.858 4.65302 17.2929L4.65302 17.289V9.07599C4.65302 8.5237 5.10073 8.07599 5.65302 8.07599Z" fill="#303030"/>
                <path d="M3 6.42202C3 5.93381 3.39578 5.53802 3.884 5.53802H20.248C20.7362 5.53802 21.132 5.9338 21.132 6.42202V6.42302C21.132 6.91125 20.7362 7.30702 20.248 7.30702H3.884C3.39578 7.30702 3 6.91124 3 6.42302V6.42202Z" fill="#303030"/>
                <path d="M11.844 4C11.4834 4 11.191 4.29236 11.191 4.653V4.654C11.191 5.01464 11.4834 5.307 11.844 5.307H12.729C13.0897 5.307 13.382 5.01464 13.382 4.654V4.653C13.382 4.29236 13.0897 4 12.729 4H11.844ZM9.19101 4.653C9.19101 3.18779 10.3788 2 11.844 2H12.729C14.1942 2 15.382 3.18779 15.382 4.653V4.654C15.382 6.11921 14.1942 7.307 12.729 7.307H11.844C10.3788 7.307 9.19101 6.11921 9.19101 4.654V4.653Z" fill="#303030"/>
                <path d="M9.19101 8.07599C9.74329 8.07599 10.191 8.5237 10.191 9.07599V17.036C10.191 17.5883 9.74329 18.036 9.19101 18.036C8.63872 18.036 8.19101 17.5883 8.19101 17.036V9.07599C8.19101 8.5237 8.63872 8.07599 9.19101 8.07599Z" fill="#303030"/>
                <path d="M12.204 7.90198C12.7563 7.90198 13.204 8.34969 13.204 8.90198V16.902C13.204 17.4543 12.7563 17.902 12.204 17.902C11.6517 17.902 11.204 17.4543 11.204 16.902V8.90198C11.204 8.34969 11.6517 7.90198 12.204 7.90198Z" fill="#303030"/>
                <path d="M15.383 8.07599C15.9353 8.07599 16.383 8.5237 16.383 9.07599V17.036C16.383 17.5883 15.9353 18.036 15.383 18.036C14.8307 18.036 14.383 17.5883 14.383 17.036V9.07599C14.383 8.5237 14.8307 8.07599 15.383 8.07599Z" fill="#303030"/>
            </svg>
        </button>
    }

    <mat-form-field>
        <mat-label>Enter work period</mat-label>
        <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input matStartDate formControlName="start" placeholder="First day">
            <input matEndDate formControlName="end" placeholder="Last day">
        </mat-date-range-input>
        <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>

        @if (range.controls.start.hasError('matStartDateInvalid')) {
            <mat-error>Invalid start date</mat-error>
        }
        @if (range.controls.end.hasError('matEndDateInvalid')) {
            <mat-error>Invalid end date</mat-error>
        }
        @if (isErrorEmptyList) {
            <mat-error>No employees found</mat-error>
        }
    </mat-form-field>
</div>


